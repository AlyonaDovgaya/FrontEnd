<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <title>Регистрация</title>
    <script type="text/javascript">
      function sendJSON() {
      //Обращение к элементам на странице по их именам
      let name = document.querySelector('#name');
      let password = document.querySelector('#password');
      let email = document.querySelector('#email');
      //Создание нового экземпляра запроса XHR
      let xhr = new XMLHttpRequest();
      //Открытие соединения
      xhr.open("POST", '/submit', true);
      //Установка заголовка — выбираем тип контента, который отправится на сервер (JSON)
      xhr.setRequestHeader("Content-Type", "application/json");
      var data = JSON.stringify({ "name": name.value, "password": password.value, "email": email.value});
      //Отправляем JSON на сервер
      xhr.send(data);
      }
    </script>
  </head>
  <body>
    <form action="#" method="post">

        <fieldset>

          <label>
            Имя
            <input type="text" id="name" placeholder="Полное имя" pattern="[A-Za-zА-Яа-яЁё]{3,}" required>
          </label>
          <label>
            Пароль
            <input type="password" id="password" placeholder="Пароль (8 цифр)" pattern="[0-9]{8}" maxlength="8" required>
          </label>
          <label>
            Email
            <input type="email" id="email" placeholder="Адрес почты" required>
          </label>

        </fieldset>

        <input onclick="sendJSON()" class="btn" type="submit" name="submit" value="Зарегистрироваться">

      </form>
  </body>
</html>
